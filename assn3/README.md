# [20181592 김재민] 보고서

전에 했던 완만한 커브길 주행 과제에서 사용했던 코드들을 가져와서 사용했습니다. 이번 과제는 급한 커브가 존재하여 센서가 감지하는 리스트에 1을 연달아 2개까지만 경우의 수로 작성했던 전 코드에서 1을 연달아 3개까지로 늘려 작성했습니다. 그리고 완만한 코스의 전 과제와는 달리 제가 경우의 수로 고려하지 않은 리스트가 충분히 감지될 수 있으므로 코드에서 처리해 줄 필요가 있었습니다. 그러나 1이 4개부터라던가, 또는 [1,0,0,1,1] 같이 1이 떨어져서 감지되는 등 이러한 경우들은 주행하는데에 차가 멈추지만 않게 하면 될뿐이라고 생각하여 전부 else 처리 하였습니다. 그리고 커브가 급하다보니 센서가 흰색 바닥을 감지하는 일이 발생하였습니다. 이때는 
elif record == [0,0,0,0,0]:
        self.car.steering.turn(125)
        self.car.accelerator.go_backward(45)
        time.sleep(0.5)
        self.car.steering.turn(60)
        self.car.accelerator.go_forward(45)
        time.sleep(0.2)
위와 같이 코드를 작성하여 해결했습니다. 흰색 바닥을 감지하면 차가 어느정도 후진하여 다시 검은 라인을 감지하도록 하였습니다. 이때 더 수월하게 커브를 돌게 하기위해 트랙이 반시계방향으로 돈다는 점을 감안하여 후진할때 바퀴를 오른쪽으로 확 꺾게 하여 검은 라인을 차의 방향과 더 알맞게 감지하도록 하였습니다. 하지만 커브가 정말 급한 구간에서는 후진 후에 검은 라인을 감지하여 방향을 꺾는 것이 매끄럽지 못해 트랙을 완전히 이탈하거나, 버벅되면서 겨우겨우 커브 구간을 빠져나오는 경우가 있었습니다. 따라서 후진 후 직진까지 일정시간 하도록 코드를 또한번 수정하였습니다. 왜 후진 직후에 방향전환이 매끄럽지 못한지는 이유는 잘 모르겠지만 아무튼 직진을 살짝 시켜줌으로써 후진과 방향전환 사이에 시간을 벌어줬습니다. 그 결과 버벅됨이 전혀 없었고 IO error가 간혹 뜨지 않는 이상 커브 구간을 잘 돌았습니다. 
장애물을 감지하고 가이드 라인을 이용해 주행하는 부분의 코드는 하나의 큰 if문안에 작성하였습니다. 먼저 임의적으로 제가 정한 거리의 장애물을 감지했을때 일정 기간 왼쪽으로 꺾어서 가도록 했습니다. 그리고 흰색 바닥을 감지하는 동안 계속 직진하도록 하였고 그러다가 검은 라인을 만나는 순간 오른쪽으로 꺾어서 일정 기간 가도록 하였습니다. 위와 마찬가지로 흰색 바닥일때 직진을 하게 하였고 검은 라인을 감지하는 순간 큰 if문을 빠져나오도록 하였습니다. 직진을 하도록 한 이유는 다음과 같습니다. 장애물을 감지하고 커브를 돌때 오로지 커브의 time.sleep에만 의존하는 것은 타이밍의 문제, 너무 수직으로 차가 들어간다는 점 등 주행의 효율을 떨어뜨리거나 주행을 아예 더이상 할 수 없도록 할 수 있기 때문입니다. 결과적으로 현 코드는 이와 같은 문제들을 모두 해결했습니다.
마지막으로 2바퀴를 돌고 멈추게 하는 방법으로는 장애물을 4번 감지한 후 [1,1,1,1,1] 을 센서가 감지했을때 멈추도록 하였습니다. 장애물을 감지하여 방향을 꺾을 때마다 count를 하나씩 세도록 하였고 [1,1,1,1,1] 에 대한 조건문에서 count가 4일때 가장 큰 while문을 빠져나와 self.car.accelerator.stop() 을 실행하도록 하였습니다. 
